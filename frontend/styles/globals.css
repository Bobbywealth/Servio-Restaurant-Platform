@import './thermal-print.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

/* CRITICAL PERFORMANCE CSS - LOADED FIRST */
* {
  box-sizing: border-box;
}

/* REDUCE LAYOUT SHIFTS */
img, video {
  max-width: 100%;
  height: auto;
}

/* HARDWARE ACCELERATION */
.gpu-accelerated {
  transform: translateZ(0);
  will-change: transform;
  backface-visibility: hidden;
  perspective: 1000px;
}

/* OPTIMIZE ANIMATIONS */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* ============================================================================
   ACCESSIBILITY STYLES (WCAG 2.1 AA Compliance)
   ============================================================================ */

/* Enhanced focus indicators for keyboard navigation */
:focus-visible {
  outline: 3px solid var(--primary-500, #14b8a6);
  outline-offset: 2px;
  border-radius: 2px;
}

/* Remove default outline when using mouse */
:focus:not(:focus-visible) {
  outline: none;
}

/* High contrast focus for buttons and interactive elements */
button:focus-visible,
a:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible,
[role="button"]:focus-visible {
  outline: 3px solid var(--primary-500, #14b8a6);
  outline-offset: 2px;
}

/* Skip link styling for accessibility */
.skip-link {
  position: absolute;
  top: -100px;
  left: 0;
  background: var(--primary-500, #14b8a6);
  color: white;
  padding: 12px 24px;
  z-index: 10000;
  text-decoration: none;
  font-weight: 600;
  border-radius: 0 0 8px 0;
  transition: top 0.2s ease-in-out;
}

.skip-link:focus {
  top: 0;
  outline: none;
}

.skip-link:nth-child(2):focus {
  left: auto;
  right: 0;
  border-radius: 0 0 0 8px;
}

/* Screen reader only class */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only:focus,
.sr-only:active {
  position: static;
  width: auto;
  height: auto;
  padding: inherit;
  margin: inherit;
  overflow: visible;
  clip: auto;
  white-space: normal;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  * {
    border-color: currentColor !important;
  }
  
  button,
  a,
  input,
  select,
  textarea {
    border: 2px solid currentColor !important;
  }
}

/* Forced colors mode (Windows High Contrast) */
@media (forced-colors: active) {
  .btn-primary {
    border: 2px solid currentColor;
  }
  
  .icon {
    forced-color-adjust: none;
  }
}

/* ============================================================================
   CRO COMPONENT STYLES
   ============================================================================ */

/* Trust signals animation */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in-up {
  animation: fadeInUp 0.5s ease-out forwards;
}

/* Sticky CTA smooth appearance */
@keyframes slideUp {
  from {
    transform: translateY(100%);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.animate-slide-up {
  animation: slideUp 0.3s ease-out forwards;
}

/* Pulse animation for urgency elements */
@keyframes urgentPulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.7;
  }
}

.animate-urgent-pulse {
  animation: urgentPulse 2s ease-in-out infinite;
}

/* Progress bar animation */
@keyframes progressShrink {
  from {
    width: 100%;
  }
  to {
    width: 0%;
  }
}

/* Testimonial carousel fade */
@keyframes testimonialFade {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0;
  }
}

/* ============================================================================
   PERFORMANCE OPTIMIZATIONS
   ============================================================================ */

/* Prevent layout shift from custom scrollbar */
html {
  scrollbar-gutter: stable;
}

/* Image placeholder to prevent layout shift */
.img-placeholder {
  background: linear-gradient(110deg, #1f2937 8%, #374151 18%, #1f2937 33%);
  background-size: 200% 100%;
  animation: shimmer 1.5s linear infinite;
}

@keyframes shimmer {
  0% {
    background-position: 200% 0;
  }
  100% {
    background-position: -200% 0;
  }
}

/* Font loading fallback */
@font-face {
  font-family: 'Inter-fallback';
  src: local('Arial');
  size-adjust: 107%;
  ascent-override: 90%;
  descent-override: 22%;
  line-gap-override: 0%;
}

/* ============================================================================
   CONVERSION OPTIMIZATION STYLES
   ============================================================================ */

/* CTA button hover effects */
.cta-button {
  position: relative;
  overflow: hidden;
  transition: all 0.3s ease;
}

.cta-button::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
  transition: left 0.5s ease;
}

.cta-button:hover::before {
  left: 100%;
}

.cta-button:active {
  transform: scale(0.98);
}

/* Form field success/error states */
.form-field-success {
  border-color: #10b981 !important;
  box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.2);
}

.form-field-error {
  border-color: #ef4444 !important;
  box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.2);
}

/* Trust badge styles */
.trust-badge {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 1rem;
  background: rgba(16, 185, 129, 0.1);
  border: 1px solid rgba(16, 185, 129, 0.3);
  border-radius: 9999px;
  color: #10b981;
  font-size: 0.875rem;
  font-weight: 500;
}

/* Social proof notification */
.social-proof-notification {
  position: fixed;
  bottom: 2rem;
  left: 2rem;
  z-index: 40;
  animation: slideInFromLeft 0.5s ease-out;
}

@keyframes slideInFromLeft {
  from {
    transform: translateX(-100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

@layer base {
  :root {
    /* Light mode surface colors */
    --surface-50: 249 250 251;
    --surface-100: 243 244 246;
    --surface-200: 229 231 235;
    --surface-300: 209 213 219;
    --surface-400: 156 163 175;
    --surface-500: 107 114 128;
    --surface-600: 75 85 99;
    --surface-700: 55 65 81;
    --surface-800: 31 41 55;
    --surface-900: 17 24 39;
    --surface-950: 3 7 18;
  }

  .dark {
    /* Dark mode surface colors */
    --surface-50: 3 7 18;
    --surface-100: 17 24 39;
    --surface-200: 31 41 55;
    --surface-300: 55 65 81;
    --surface-400: 75 85 99;
    --surface-500: 107 114 128;
    --surface-600: 156 163 175;
    --surface-700: 209 213 219;
    --surface-800: 229 231 235;
    --surface-900: 243 244 246;
    --surface-950: 249 250 251;
  }

  .tablet-theme {
    --tablet-bg: #1a1a1a;
    --tablet-surface: #1c1c1c;
    --tablet-surface-alt: #242424;
    --tablet-card: #202020;
    --tablet-border: #2a2a2a;
    --tablet-border-strong: #3a3a3a;
    --tablet-sidebar: #161616;
    --tablet-sidebar-border: #202020;
    --tablet-muted: #7a7a7a;
    --tablet-muted-strong: #9a9a9a;
    --tablet-text: #f2f2f2;
    --tablet-accent: #b79d6a;
    --tablet-accent-contrast: #1a1a1a;
    --tablet-success: #537663;
    --tablet-warning: #a97e2f;
    --tablet-danger: #b7594e;
    --tablet-info: #5d6f91;
  }

  .light .tablet-theme {
    --tablet-bg: #f7f7f8;
    --tablet-surface: #ffffff;
    --tablet-surface-alt: #f3f4f6;
    --tablet-card: #ffffff;
    --tablet-border: #e5e7eb;
    --tablet-border-strong: #d1d5db;
    --tablet-sidebar: #ffffff;
    --tablet-sidebar-border: #e5e7eb;
    --tablet-muted: #5f6775;
    --tablet-muted-strong: #7e8797;
    --tablet-text: #111827;
    --tablet-accent: #a4884d;
    --tablet-accent-contrast: #111827;
    --tablet-success: #3f7f46;
    --tablet-warning: #bd7a2d;
    --tablet-danger: #c45050;
    --tablet-info: #516aa1;
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    @apply bg-surface-50 text-surface-900 transition-colors duration-300;
    width: 100%;
    position: relative;
    overflow-x: hidden;
  }

  .dark body {
    @apply bg-surface-950 text-surface-100;
  }

  /* Custom scrollbar */
  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-surface-100 dark:bg-surface-800;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-surface-300 dark:bg-surface-600 rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-surface-400 dark:bg-surface-500;
  }
}

/* RESPONSIVE TABLET ORDERS GRID - ALL DEVICE SUPPORT */

/* Mobile phones (< 640px) - Single column, stacked layout */
.tablet-orders-responsive {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

/* Small tablets and large phones (640px - 819px) - 2 column layout */
@media (min-width: 640px) and (max-width: 819px) {
  .tablet-orders-responsive {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
  }
  .tablet-orders-responsive > section:nth-child(3) {
    grid-column: 1 / -1;
  }
}

/* iPad/Tablets in portrait (820px - 1023px) - 2 column with sidebar */
@media (min-width: 820px) and (max-width: 1023px) {
  .tablet-orders-responsive {
    display: grid;
    grid-template-columns: minmax(280px, 1fr) minmax(320px, 1.2fr);
    gap: 1.25rem;
  }
  .tablet-orders-responsive > section:nth-child(3) {
    grid-column: 1 / -1;
  }
}

/* iPad/Tablets landscape & Desktop (1024px+) - Full 3 column */
@media (min-width: 1024px) {
  .tablet-orders-responsive {
    display: grid;
    grid-template-columns: minmax(280px, 1fr) minmax(340px, 1.2fr) minmax(300px, 1.1fr);
    gap: 1.5rem;
  }
  .tablet-orders-responsive > section:nth-child(3) {
    grid-column: auto;
  }
}

/* Large screens (1280px+) - Optimized proportions */
@media (min-width: 1280px) {
  .tablet-orders-responsive {
    grid-template-columns: minmax(320px, 1fr) minmax(400px, 1.3fr) minmax(340px, 1.1fr);
  }
}

/* Extra large screens (1536px+) */
@media (min-width: 1536px) {
  .tablet-orders-responsive {
    grid-template-columns: 380px 1fr 400px;
    max-width: 1800px;
    margin: 0 auto;
  }
}

/* Legacy support for old class name */
@media (min-width: 820px) {
  .tablet-orders-grid {
    grid-template-columns: minmax(260px, 1fr) minmax(300px, 1fr) minmax(280px, 1.1fr);
  }
}

@layer components {
  /* PREMIUM GLASSMORPHISM CARDS */
  .glass-card {
    @apply bg-white/70 dark:bg-surface-900/70 backdrop-blur-xl border border-white/20 dark:border-surface-700/50
           rounded-2xl shadow-soft-lg transition-all duration-300;
  }

  .glass-card-hover {
    @apply glass-card hover:shadow-glow hover:-translate-y-1 hover:bg-white/80 dark:hover:bg-surface-900/80
           cursor-pointer border-white/30 dark:border-surface-600/30;
  }

  .glass-card-premium {
    @apply glass-card p-6 relative overflow-hidden;
    background: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.7) 100%);
  }

  .dark .glass-card-premium {
    background: linear-gradient(135deg, rgba(31,41,55,0.9) 0%, rgba(17,24,39,0.7) 100%);
  }

  /* PREMIUM BUTTONS */
  .btn-primary {
    @apply relative overflow-hidden bg-gradient-to-r from-primary-500 to-primary-600
           hover:from-primary-600 hover:to-primary-700
           dark:from-primary-500 dark:to-primary-600
           dark:hover:from-primary-400 dark:hover:to-primary-500
           text-white font-semibold py-3 px-6 rounded-xl
           transition-all duration-300 transform hover:scale-[1.02] hover:shadow-glow
           shadow-lg hover:shadow-glow-lg active:scale-[0.98]
           focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-opacity-50;
  }

  .btn-primary::before {
    content: '';
    @apply absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent
           -translate-x-full skew-x-12 transition-transform duration-500;
  }

  .btn-primary:hover::before {
    @apply translate-x-full;
  }

  .btn-secondary {
    @apply bg-gradient-to-r from-surface-100 to-surface-200
           hover:from-surface-200 hover:to-surface-300
           dark:from-surface-700 dark:to-surface-800
           dark:hover:from-surface-600 dark:hover:to-surface-700
           text-surface-800 dark:text-surface-200 font-semibold py-3 px-6 rounded-xl
           transition-all duration-300 transform hover:scale-[1.02] hover:shadow-soft
           shadow-sm hover:shadow-md active:scale-[0.98]
           focus:outline-none focus:ring-2 focus:ring-surface-500 focus:ring-opacity-50;
  }

  .btn-ghost {
    @apply text-surface-700 dark:text-surface-300 hover:bg-white/50 dark:hover:bg-surface-800/50
           font-medium py-3 px-6 rounded-xl transition-all duration-200
           focus:outline-none focus:ring-2 focus:ring-surface-400 focus:ring-opacity-50
           backdrop-blur-sm;
  }

  .btn-danger {
    @apply bg-gradient-to-r from-servio-red-500 to-servio-red-600
           hover:from-servio-red-600 hover:to-servio-red-700
           dark:from-servio-red-500 dark:to-servio-red-600
           dark:hover:from-servio-red-400 dark:hover:to-servio-red-500
           text-white font-semibold py-3 px-6 rounded-xl
           transition-all duration-300 transform hover:scale-[1.02] hover:shadow-glow-red
           shadow-lg hover:shadow-glow-red active:scale-[0.98]
           focus:outline-none focus:ring-2 focus:ring-servio-red-500 focus:ring-opacity-50;
  }

  .btn-success {
    @apply bg-gradient-to-r from-servio-green-500 to-servio-green-600
           hover:from-servio-green-600 hover:to-servio-green-700
           dark:from-servio-green-500 dark:to-servio-green-600
           dark:hover:from-servio-green-400 dark:hover:to-servio-green-500
           text-white font-semibold py-3 px-6 rounded-xl
           transition-all duration-300 transform hover:scale-[1.02] hover:shadow-glow
           shadow-lg hover:shadow-glow active:scale-[0.98]
           focus:outline-none focus:ring-2 focus:ring-servio-green-500 focus:ring-opacity-50;
  }

  .btn-orange {
    @apply bg-gradient-to-r from-servio-orange-500 to-servio-orange-600
           hover:from-servio-orange-400 hover:to-servio-orange-500
           dark:from-servio-orange-500 dark:to-servio-orange-600
           dark:hover:from-servio-orange-400 dark:hover:to-servio-orange-500
           text-white font-semibold py-3 px-6 rounded-xl
           transition-all duration-300 transform hover:scale-[1.02] hover:shadow-glow-orange
           shadow-lg hover:shadow-glow-orange active:scale-[0.98]
           focus:outline-none focus:ring-2 focus:ring-servio-orange-500 focus:ring-opacity-50;
  }

  .btn-icon {
    @apply p-3 rounded-xl transition-all duration-200
           hover:bg-surface-100 dark:hover:bg-surface-800
           focus:outline-none focus:ring-2 focus:ring-surface-400 focus:ring-opacity-50
           active:scale-95 backdrop-blur-sm;
  }

  /* PREMIUM CARDS */
  .card {
    @apply bg-white dark:bg-surface-800 rounded-2xl shadow-soft
           border border-surface-200/50 dark:border-surface-700/50 p-6
           transition-all duration-300 hover:shadow-soft-lg hover:-translate-y-0.5
           backdrop-blur-sm;
  }

  .card-hover {
    @apply card hover:shadow-glow hover:-translate-y-1
           hover:border-surface-300/70 dark:hover:border-surface-600/70
           cursor-pointer;
  }

  .card-glass {
    @apply bg-white/80 dark:bg-surface-900/80 backdrop-blur-xl
           border border-white/30 dark:border-surface-700/30
           rounded-2xl p-6 shadow-glass;
  }

  .card-gradient {
    @apply relative overflow-hidden rounded-2xl p-6
           bg-gradient-to-br from-white via-white to-surface-50
           dark:from-surface-800 dark:via-surface-800 dark:to-surface-900
           shadow-soft-lg;
  }

  .card-gradient::before {
    content: '';
    @apply absolute inset-0 opacity-30;
    background: linear-gradient(135deg, theme('colors.primary.400') 0%, theme('colors.servio.purple.500') 100%);
  }

  /* PREMIUM INPUT FIELDS */
  .input-field {
    @apply w-full px-4 py-3 border border-surface-300/60 dark:border-surface-600/60
           bg-white/80 dark:bg-surface-800/80 text-surface-900 dark:text-surface-100
           rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent
           transition-all duration-200 placeholder-surface-400 dark:placeholder-surface-500
           backdrop-blur-sm shadow-sm focus:shadow-glow;
  }

  .input-field-glow {
    @apply input-field focus:ring-2 focus:ring-primary-400 focus:shadow-glow
           border-primary-200 dark:border-primary-800;
  }

  /* PREMIUM STATUS BADGES */
  .status-badge {
    @apply inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-semibold
           transition-all duration-200;
  }

  .status-success {
    @apply status-badge bg-gradient-to-r from-servio-green-100 to-servio-green-200
           dark:from-servio-green-900/40 dark:to-servio-green-800/40
           text-servio-green-800 dark:text-servio-green-300
           border border-servio-green-300/50 dark:border-servio-green-700/50;
  }

  .status-warning {
    @apply status-badge bg-gradient-to-r from-servio-orange-100 to-servio-orange-200
           dark:from-servio-orange-900/40 dark:to-servio-orange-800/40
           text-servio-orange-800 dark:text-servio-orange-300
           border border-servio-orange-300/50 dark:border-servio-orange-700/50;
  }

  .status-error {
    @apply status-badge bg-gradient-to-r from-servio-red-100 to-servio-red-200
           dark:from-servio-red-900/40 dark:to-servio-red-800/40
           text-servio-red-800 dark:text-servio-red-300
           border border-servio-red-300/50 dark:border-servio-red-700/50;
  }

  .status-info {
    @apply status-badge bg-gradient-to-r from-primary-100 to-primary-200
           dark:from-primary-900/40 dark:to-primary-800/40
           text-primary-800 dark:text-primary-300
           border border-primary-300/50 dark:border-primary-700/50;
  }

  /* PREMIUM NAVIGATION */
  .nav-link {
    @apply flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-xl
           transition-all duration-200 group relative overflow-hidden;
  }

  .nav-link-active {
    @apply nav-link bg-gradient-to-r from-primary-100 to-primary-200/50
           dark:from-primary-900/40 dark:to-primary-800/20
           text-primary-700 dark:text-primary-300
           border-l-4 border-primary-500 shadow-glow-sm;
  }

  .nav-link-inactive {
    @apply nav-link text-surface-600 dark:text-surface-400
           hover:bg-surface-100/80 dark:hover:bg-surface-800/80
           hover:text-surface-900 dark:hover:text-surface-200;
  }

  /* GRADIENT TEXT */
  .text-gradient {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-primary-600 via-primary-500 to-servio-orange-500;
  }

  .text-gradient-orange {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-servio-orange-500 via-servio-orange-400 to-primary-400;
  }

  .text-gradient-blue {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-servio-blue-500 via-servio-blue-400 to-primary-400;
  }

  .text-gradient-purple {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-servio-purple-500 via-servio-purple-400 to-primary-400;
  }

  /* GRADIENT BACKGROUNDS */
  .bg-gradient-primary {
    @apply bg-gradient-to-br from-primary-500 via-primary-600 to-servio-blue-600;
  }

  .bg-gradient-orange {
    @apply bg-gradient-to-br from-servio-orange-500 via-servio-orange-400 to-servio-red-500;
  }

  .bg-gradient-success {
    @apply bg-gradient-to-br from-servio-green-500 to-servio-green-600;
  }

  .bg-gradient-glass {
    @apply bg-gradient-to-br from-white/90 via-white/70 to-surface-100/50
           dark:from-surface-800/90 dark:via-surface-800/70 dark:to-surface-900/50;
  }

  /* MESH GRADIENT BACKGROUND */
  .mesh-gradient {
    background:
      radial-gradient(at 40% 20%, theme('colors.primary.400') 0px, transparent 50%),
      radial-gradient(at 80% 0%, theme('colors.servio.purple.500') 0px, transparent 50%),
      radial-gradient(at 0% 50%, theme('colors.servio.orange.400') 0px, transparent 50%),
      radial-gradient(at 80% 50%, theme('colors.servio.blue.500') 0px, transparent 50%),
      radial-gradient(at 0% 100%, theme('colors.primary.600') 0px, transparent 50%),
      radial-gradient(at 80% 100%, theme('colors.servio.orange.600') 0px, transparent 50%),
      radial-gradient(at 0% 0%, theme('colors.servio.purple.600') 0px, transparent 50%);
  }

  /* AURORA BACKGROUND */
  .aurora-bg {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #ff6b35 100%);
    background-size: 400% 400%;
    animation: gradient 15s ease infinite;
  }

  @keyframes gradient {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  /* PREMIUM TRANSCRIPT MESSAGES */
  .transcript-message {
    @apply mb-4 p-5 rounded-2xl transition-all duration-200
           border border-transparent hover:border-surface-300/50 dark:hover:border-surface-600/50;
  }

  .transcript-user {
    @apply transcript-message bg-gradient-to-r from-primary-50 to-primary-100/50
           dark:from-primary-900/30 dark:to-primary-800/10
           border-l-4 border-primary-500;
  }

  .transcript-assistant {
    @apply transcript-message bg-gradient-to-r from-servio-green-50 to-servio-green-100/50
           dark:from-servio-green-900/30 dark:to-servio-green-800/10
           border-l-4 border-servio-green-500;
  }

  .transcript-system {
    @apply transcript-message bg-surface-100/80 dark:bg-surface-800/80
           border-l-4 border-surface-400 text-sm;
  }

  .transcript-action {
    @apply transcript-message bg-gradient-to-r from-servio-orange-50 to-servio-orange-100/50
           dark:from-servio-orange-900/30 dark:to-servio-orange-800/10
           border-l-4 border-servio-orange-500;
  }

  /* PREMIUM SECTIONS */
  .section-glass {
    @apply relative overflow-hidden rounded-3xl
           bg-gradient-to-br from-white/90 to-white/70
           dark:from-surface-800/90 dark:to-surface-800/70
           backdrop-blur-xl border border-white/20 dark:border-surface-700/50
           shadow-soft-lg;
  }

  /* SCROLLABLE PANELS */
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: theme('colors.surface.300') transparent;
  }

  .scrollbar-thin::-webkit-scrollbar {
    width: 4px;
    height: 4px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    background: transparent;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: theme('colors.surface.300');
    border-radius: 4px;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background-color: theme('colors.surface.400');
  }

  /* ANIMATED SHIMMER */
  .shimmer {
    @apply relative overflow-hidden;
  }

  .shimmer::after {
    content: '';
    @apply absolute inset-0 -translate-x-full;
    background: linear-gradient(
      90deg,
      transparent,
      rgba(255, 255, 255, 0.2),
      transparent
    );
    animation: shimmer 2s infinite;
  }

  @keyframes shimmer {
    100% {
      transform: translateX(100%);
    }
  }

  /* STAT CARDS */
  .stat-card {
    @apply relative overflow-hidden rounded-2xl p-6
           bg-white dark:bg-surface-800
           border border-surface-200/50 dark:border-surface-700/50
           shadow-soft hover:shadow-soft-lg transition-all duration-300;
  }

  /* FORM GROUPS */
  .form-group {
    @apply space-y-2;
  }

  .form-label {
    @apply block text-sm font-medium text-surface-700 dark:text-surface-300;
  }

  .form-helper {
    @apply text-xs text-surface-500 dark:text-surface-400;
  }

  /* TOOLTIPS */
  .tooltip {
    @apply relative inline-block;
  }

  .tooltip .tooltip-text {
    @apply absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-1.5
           text-xs font-medium text-white bg-surface-900 dark:bg-surface-700
           rounded-lg shadow-lg opacity-0 invisible transition-all duration-200;
    white-space: nowrap;
    z-index: 50;
  }

  .tooltip:hover .tooltip-text {
    @apply opacity-100 visible;
  }

  /* EMPTY STATES */
  .empty-state {
    @apply flex flex-col items-center justify-center py-16 px-4 text-center;
  }

  .empty-state-icon {
    @apply w-16 h-16 rounded-full bg-surface-100 dark:bg-surface-800 flex items-center justify-center mb-4;
  }

  .empty-state-title {
    @apply text-lg font-semibold text-surface-900 dark:text-white mb-2;
  }

  .empty-state-description {
    @apply text-sm text-surface-500 dark:text-surface-400 max-w-sm;
  }

  /* BADGE VARIANTS */
  .badge {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
  }

  .badge-primary {
    @apply badge bg-primary-100 text-primary-800 dark:bg-primary-900/30 dark:text-primary-300;
  }

  .badge-secondary {
    @apply badge bg-surface-100 text-surface-800 dark:bg-surface-800 dark:text-surface-200;
  }

  .badge-success {
    @apply badge bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300;
  }

  .badge-warning {
    @apply badge bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300;
  }

  .badge-danger {
    @apply badge bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300;
  }

  /* TEXT ELLIPSIS */
  .truncate-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .truncate-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* TOUCH OPTIMIZATION */
  .touch-manipulation {
    touch-action: manipulation;
  }

  /* FOCUS VISIBLE */
  .focus-ring {
    @apply focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2;
  }

  /* CONTAINMENT */
  .contain-layout {
    contain: layout;
  }

  .contain-paint {
    contain: paint;
  }
}

/* SHADOW VARIANTS */
.shadow-glow {
  box-shadow: 0 0 20px rgba(20, 184, 166, 0.15);
}

.shadow-glow-lg {
  box-shadow: 0 0 30px rgba(20, 184, 166, 0.25);
}

.shadow-glow-orange {
  box-shadow: 0 0 20px rgba(249, 115, 22, 0.15);
}

.shadow-glow-red {
  box-shadow: 0 0 20px rgba(239, 68, 68, 0.15);
}

.shadow-glass {
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
}

.shadow-soft {
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04), 0 8px 24px rgba(0, 0, 0, 0.04);
}

.shadow-soft-lg {
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06), 0 16px 32px rgba(0, 0, 0, 0.06);
}

/* TABLET SPECIFIC */
.tablet-theme {
  /* Already defined in @layer base, adding fallback */
  --tablet-bg: #1a1a1a;
  --tablet-surface: #1c1c1c;
  --tablet-surface-alt: #242424;
  --tablet-card: #202020;
  --tablet-border: #2a2a2a;
  --tablet-border-strong: #3a3a3a;
  --tablet-sidebar: #161616;
  --tablet-sidebar-border: #202020;
  --tablet-muted: #7a7a7a;
  --tablet-muted-strong: #9a9a9a;
  --tablet-text: #f2f2f2;
  --tablet-accent: #b79d6a;
  --tablet-accent-contrast: #1a1a1a;
  --tablet-success: #537663;
  --tablet-warning: #a97e2f;
  --tablet-danger: #b7594e;
  --tablet-info: #5d6f91;
}

/* ORDER STATUS BADGES */
.order-status-new {
  @apply bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300 border-blue-200 dark:border-blue-800;
}

.order-status-preparing {
  @apply bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300 border-yellow-200 dark:border-yellow-800;
}

.order-status-ready {
  @apply bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300 border-green-200 dark:border-green-800;
}

.order-status-delivered {
  @apply bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300 border-gray-200 dark:border-gray-700;
}

.order-status-cancelled {
  @apply bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300 border-red-200 dark:border-red-800;
}

/* PRIORITY BADGES */
.priority-high {
  @apply bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300;
}

.priority-medium {
  @apply bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300;
}

.priority-low {
  @apply bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300;
}

/* DATA VIZ COLORS */
.chart-primary {
  --chart-color: 20, 184, 166;
}

.chart-secondary {
  --chart-color: 99, 102, 241;
}

.chart-tertiary {
  --chart-color: 249, 115, 22;
}

.chart-quaternary {
  --chart-color: 236, 72, 153;
}

/* PRINT STYLES */
@media print {
  .no-print {
    display: none !important;
  }

  .print-break {
    page-break-before: always;
  }

  body {
    @apply bg-white text-black;
  }
}

/* ACCESSIBILITY */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* DARK MODE PREFERENCES */
@media (prefers-color-scheme: dark) {
  /* Automatically applied via dark class on html */
}

/* HIGH CONTRAST MODE */
@media (prefers-contrast: high) {
  .card {
    @apply border-2 border-surface-900 dark:border-surface-100;
  }

  .btn-primary {
    @apply border-2 border-transparent;
  }
}
