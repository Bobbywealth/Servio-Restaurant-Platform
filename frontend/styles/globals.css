@import './thermal-print.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

/* CRITICAL PERFORMANCE CSS - LOADED FIRST */
* {
  box-sizing: border-box;
}

/* REDUCE LAYOUT SHIFTS */
img, video {
  max-width: 100%;
  height: auto;
}

/* HARDWARE ACCELERATION */
.gpu-accelerated {
  transform: translateZ(0);
  will-change: transform;
  backface-visibility: hidden;
  perspective: 1000px;
}

/* OPTIMIZE ANIMATIONS */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

@layer base {
  :root {
    /* Light mode surface colors */
    --surface-50: 249 250 251;
    --surface-100: 243 244 246;
    --surface-200: 229 231 235;
    --surface-300: 209 213 219;
    --surface-400: 156 163 175;
    --surface-500: 107 114 128;
    --surface-600: 75 85 99;
    --surface-700: 55 65 81;
    --surface-800: 31 41 55;
    --surface-900: 17 24 39;
    --surface-950: 3 7 18;
  }

  .dark {
    /* Dark mode surface colors */
    --surface-50: 3 7 18;
    --surface-100: 17 24 39;
    --surface-200: 31 41 55;
    --surface-300: 55 65 81;
    --surface-400: 75 85 99;
    --surface-500: 107 114 128;
    --surface-600: 156 163 175;
    --surface-700: 209 213 219;
    --surface-800: 229 231 235;
    --surface-900: 243 244 246;
    --surface-950: 249 250 251;
  }

  .tablet-theme {
    --tablet-bg: #1a1a1a;
    --tablet-surface: #1c1c1c;
    --tablet-surface-alt: #242424;
    --tablet-card: #202020;
    --tablet-border: #2a2a2a;
    --tablet-border-strong: #3a3a3a;
    --tablet-sidebar: #161616;
    --tablet-sidebar-border: #202020;
    --tablet-muted: #6a6a6a;
    --tablet-muted-strong: #8a8a8a;
    --tablet-text: #ffffff;
    --tablet-accent: #c4a661;
    --tablet-accent-contrast: #1a1a1a;
    --tablet-success: #4a7c59;
    --tablet-warning: #b8860b;
    --tablet-danger: #c44536;
    --tablet-info: #4a5f8c;
  }

  .light .tablet-theme {
    --tablet-bg: #f7f7f8;
    --tablet-surface: #ffffff;
    --tablet-surface-alt: #f3f4f6;
    --tablet-card: #ffffff;
    --tablet-border: #e5e7eb;
    --tablet-border-strong: #d1d5db;
    --tablet-sidebar: #ffffff;
    --tablet-sidebar-border: #e5e7eb;
    --tablet-muted: #6b7280;
    --tablet-muted-strong: #9ca3af;
    --tablet-text: #111827;
    --tablet-accent: #b08a3a;
    --tablet-accent-contrast: #111827;
    --tablet-success: #2e7d32;
    --tablet-warning: #d97706;
    --tablet-danger: #dc2626;
    --tablet-info: #3651a3;
  }

  html {
    scroll-behavior: smooth;
    overflow-x: hidden;
    overflow-y: auto;
  }

  body {
    @apply bg-surface-50 text-surface-900 transition-colors duration-300;
    overflow-x: hidden;
    overflow-y: auto;
    width: 100%;
    position: relative;
  }

  .dark body {
    @apply bg-surface-950 text-surface-100;
  }

  /* Custom scrollbar */
  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-surface-100 dark:bg-surface-800;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-surface-300 dark:bg-surface-600 rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-surface-400 dark:bg-surface-500;
  }
}

/* RESPONSIVE TABLET ORDERS GRID - ALL DEVICE SUPPORT */

/* Mobile phones (< 640px) - Single column, stacked layout */
.tablet-orders-responsive {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

/* Small tablets and large phones (640px - 819px) - 2 column layout */
@media (min-width: 640px) and (max-width: 819px) {
  .tablet-orders-responsive {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
  }
  .tablet-orders-responsive > section:nth-child(3) {
    grid-column: 1 / -1;
  }
}

/* iPad/Tablets in portrait (820px - 1023px) - 2 column with sidebar */
@media (min-width: 820px) and (max-width: 1023px) {
  .tablet-orders-responsive {
    display: grid;
    grid-template-columns: minmax(280px, 1fr) minmax(320px, 1.2fr);
    gap: 1.25rem;
  }
  .tablet-orders-responsive > section:nth-child(3) {
    grid-column: 1 / -1;
  }
}

/* iPad/Tablets landscape & Desktop (1024px+) - Full 3 column */
@media (min-width: 1024px) {
  .tablet-orders-responsive {
    display: grid;
    grid-template-columns: minmax(280px, 1fr) minmax(340px, 1.2fr) minmax(300px, 1.1fr);
    gap: 1.5rem;
  }
  .tablet-orders-responsive > section:nth-child(3) {
    grid-column: auto;
  }
}

/* Large screens (1280px+) - Optimized proportions */
@media (min-width: 1280px) {
  .tablet-orders-responsive {
    grid-template-columns: minmax(320px, 1fr) minmax(400px, 1.3fr) minmax(340px, 1.1fr);
  }
}

/* Extra large screens (1536px+) */
@media (min-width: 1536px) {
  .tablet-orders-responsive {
    grid-template-columns: 380px 1fr 400px;
    max-width: 1800px;
    margin: 0 auto;
  }
}

/* Legacy support for old class name */
@media (min-width: 820px) {
  .tablet-orders-grid {
    grid-template-columns: minmax(260px, 1fr) minmax(300px, 1fr) minmax(280px, 1.1fr);
  }
}

@layer components {
  /* PREMIUM GLASSMORPHISM CARDS */
  .glass-card {
    @apply bg-white/70 dark:bg-surface-900/70 backdrop-blur-xl border border-white/20 dark:border-surface-700/50
           rounded-2xl shadow-soft-lg transition-all duration-300;
  }

  .glass-card-hover {
    @apply glass-card hover:shadow-glow hover:-translate-y-1 hover:bg-white/80 dark:hover:bg-surface-900/80
           cursor-pointer border-white/30 dark:border-surface-600/30;
  }

  .glass-card-premium {
    @apply glass-card p-6 relative overflow-hidden;
    background: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.7) 100%);
  }

  .dark .glass-card-premium {
    background: linear-gradient(135deg, rgba(31,41,55,0.9) 0%, rgba(17,24,39,0.7) 100%);
  }

  /* PREMIUM BUTTONS */
  .btn-primary {
    @apply relative overflow-hidden bg-gradient-to-r from-primary-500 to-primary-600
           hover:from-primary-600 hover:to-primary-700
           dark:from-primary-500 dark:to-primary-600
           dark:hover:from-primary-400 dark:hover:to-primary-500
           text-white font-semibold py-3 px-6 rounded-xl
           transition-all duration-300 transform hover:scale-[1.02] hover:shadow-glow
           shadow-lg hover:shadow-glow-lg active:scale-[0.98]
           focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-opacity-50;
  }

  .btn-primary::before {
    content: '';
    @apply absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent
           -translate-x-full skew-x-12 transition-transform duration-500;
  }

  .btn-primary:hover::before {
    @apply translate-x-full;
  }

  .btn-secondary {
    @apply bg-gradient-to-r from-surface-100 to-surface-200
           hover:from-surface-200 hover:to-surface-300
           dark:from-surface-700 dark:to-surface-800
           dark:hover:from-surface-600 dark:hover:to-surface-700
           text-surface-800 dark:text-surface-200 font-semibold py-3 px-6 rounded-xl
           transition-all duration-300 transform hover:scale-[1.02] hover:shadow-soft
           shadow-sm hover:shadow-md active:scale-[0.98]
           focus:outline-none focus:ring-2 focus:ring-surface-500 focus:ring-opacity-50;
  }

  .btn-ghost {
    @apply text-surface-700 dark:text-surface-300 hover:bg-white/50 dark:hover:bg-surface-800/50
           font-medium py-3 px-6 rounded-xl transition-all duration-200
           focus:outline-none focus:ring-2 focus:ring-surface-400 focus:ring-opacity-50
           backdrop-blur-sm;
  }

  .btn-danger {
    @apply bg-gradient-to-r from-servio-red-500 to-servio-red-600
           hover:from-servio-red-600 hover:to-servio-red-700
           dark:from-servio-red-500 dark:to-servio-red-600
           dark:hover:from-servio-red-400 dark:hover:to-servio-red-500
           text-white font-semibold py-3 px-6 rounded-xl
           transition-all duration-300 transform hover:scale-[1.02] hover:shadow-glow-red
           shadow-lg hover:shadow-glow-red active:scale-[0.98]
           focus:outline-none focus:ring-2 focus:ring-servio-red-500 focus:ring-opacity-50;
  }

  .btn-success {
    @apply bg-gradient-to-r from-servio-green-500 to-servio-green-600
           hover:from-servio-green-600 hover:to-servio-green-700
           dark:from-servio-green-500 dark:to-servio-green-600
           dark:hover:from-servio-green-400 dark:hover:to-servio-green-500
           text-white font-semibold py-3 px-6 rounded-xl
           transition-all duration-300 transform hover:scale-[1.02] hover:shadow-glow
           shadow-lg hover:shadow-glow active:scale-[0.98]
           focus:outline-none focus:ring-2 focus:ring-servio-green-500 focus:ring-opacity-50;
  }

  .btn-orange {
    @apply bg-gradient-to-r from-servio-orange-500 to-servio-orange-600
           hover:from-servio-orange-400 hover:to-servio-orange-500
           dark:from-servio-orange-500 dark:to-servio-orange-600
           dark:hover:from-servio-orange-400 dark:hover:to-servio-orange-500
           text-white font-semibold py-3 px-6 rounded-xl
           transition-all duration-300 transform hover:scale-[1.02] hover:shadow-glow-orange
           shadow-lg hover:shadow-glow-orange active:scale-[0.98]
           focus:outline-none focus:ring-2 focus:ring-servio-orange-500 focus:ring-opacity-50;
  }

  .btn-icon {
    @apply p-3 rounded-xl transition-all duration-200
           hover:bg-surface-100 dark:hover:bg-surface-800
           focus:outline-none focus:ring-2 focus:ring-surface-400 focus:ring-opacity-50
           active:scale-95 backdrop-blur-sm;
  }

  /* PREMIUM CARDS */
  .card {
    @apply bg-white dark:bg-surface-800 rounded-2xl shadow-soft
           border border-surface-200/50 dark:border-surface-700/50 p-6
           transition-all duration-300 hover:shadow-soft-lg hover:-translate-y-0.5
           backdrop-blur-sm;
  }

  .card-hover {
    @apply card hover:shadow-glow hover:-translate-y-1
           hover:border-surface-300/70 dark:hover:border-surface-600/70
           cursor-pointer;
  }

  .card-glass {
    @apply bg-white/80 dark:bg-surface-900/80 backdrop-blur-xl
           border border-white/30 dark:border-surface-700/30
           rounded-2xl p-6 shadow-glass;
  }

  .card-gradient {
    @apply relative overflow-hidden rounded-2xl p-6
           bg-gradient-to-br from-white via-white to-surface-50
           dark:from-surface-800 dark:via-surface-800 dark:to-surface-900
           shadow-soft-lg;
  }

  .card-gradient::before {
    content: '';
    @apply absolute inset-0 opacity-30;
    background: linear-gradient(135deg, theme('colors.primary.400') 0%, theme('colors.servio.purple.500') 100%);
  }

  /* PREMIUM INPUT FIELDS */
  .input-field {
    @apply w-full px-4 py-3 border border-surface-300/60 dark:border-surface-600/60
           bg-white/80 dark:bg-surface-800/80 text-surface-900 dark:text-surface-100
           rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent
           transition-all duration-200 placeholder-surface-400 dark:placeholder-surface-500
           backdrop-blur-sm shadow-sm focus:shadow-glow;
  }

  .input-field-glow {
    @apply input-field focus:ring-2 focus:ring-primary-400 focus:shadow-glow
           border-primary-200 dark:border-primary-800;
  }

  /* PREMIUM STATUS BADGES */
  .status-badge {
    @apply inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-semibold
           transition-all duration-200;
  }

  .status-success {
    @apply status-badge bg-gradient-to-r from-servio-green-100 to-servio-green-200
           dark:from-servio-green-900/40 dark:to-servio-green-800/40
           text-servio-green-800 dark:text-servio-green-300
           border border-servio-green-300/50 dark:border-servio-green-700/50;
  }

  .status-warning {
    @apply status-badge bg-gradient-to-r from-servio-orange-100 to-servio-orange-200
           dark:from-servio-orange-900/40 dark:to-servio-orange-800/40
           text-servio-orange-800 dark:text-servio-orange-300
           border border-servio-orange-300/50 dark:border-servio-orange-700/50;
  }

  .status-error {
    @apply status-badge bg-gradient-to-r from-servio-red-100 to-servio-red-200
           dark:from-servio-red-900/40 dark:to-servio-red-800/40
           text-servio-red-800 dark:text-servio-red-300
           border border-servio-red-300/50 dark:border-servio-red-700/50;
  }

  .status-info {
    @apply status-badge bg-gradient-to-r from-primary-100 to-primary-200
           dark:from-primary-900/40 dark:to-primary-800/40
           text-primary-800 dark:text-primary-300
           border border-primary-300/50 dark:border-primary-700/50;
  }

  /* PREMIUM NAVIGATION */
  .nav-link {
    @apply flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-xl
           transition-all duration-200 group relative overflow-hidden;
  }

  .nav-link-active {
    @apply nav-link bg-gradient-to-r from-primary-100 to-primary-200/50
           dark:from-primary-900/40 dark:to-primary-800/20
           text-primary-700 dark:text-primary-300
           border-l-4 border-primary-500 shadow-glow-sm;
  }

  .nav-link-inactive {
    @apply nav-link text-surface-600 dark:text-surface-400
           hover:bg-surface-100/80 dark:hover:bg-surface-800/80
           hover:text-surface-900 dark:hover:text-surface-200;
  }

  /* GRADIENT TEXT */
  .text-gradient {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-primary-600 via-primary-500 to-servio-orange-500;
  }

  .text-gradient-orange {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-servio-orange-500 via-servio-orange-400 to-primary-400;
  }

  .text-gradient-blue {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-servio-blue-500 via-servio-blue-400 to-primary-400;
  }

  .text-gradient-purple {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-servio-purple-500 via-servio-purple-400 to-primary-400;
  }

  /* GRADIENT BACKGROUNDS */
  .bg-gradient-primary {
    @apply bg-gradient-to-br from-primary-500 via-primary-600 to-servio-blue-600;
  }

  .bg-gradient-orange {
    @apply bg-gradient-to-br from-servio-orange-500 via-servio-orange-400 to-servio-red-500;
  }

  .bg-gradient-success {
    @apply bg-gradient-to-br from-servio-green-500 to-servio-green-600;
  }

  .bg-gradient-glass {
    @apply bg-gradient-to-br from-white/90 via-white/70 to-surface-100/50
           dark:from-surface-800/90 dark:via-surface-800/70 dark:to-surface-900/50;
  }

  /* MESH GRADIENT BACKGROUND */
  .mesh-gradient {
    background:
      radial-gradient(at 40% 20%, theme('colors.primary.400') 0px, transparent 50%),
      radial-gradient(at 80% 0%, theme('colors.servio.purple.500') 0px, transparent 50%),
      radial-gradient(at 0% 50%, theme('colors.servio.orange.400') 0px, transparent 50%),
      radial-gradient(at 80% 50%, theme('colors.servio.blue.500') 0px, transparent 50%),
      radial-gradient(at 0% 100%, theme('colors.primary.600') 0px, transparent 50%),
      radial-gradient(at 80% 100%, theme('colors.servio.orange.600') 0px, transparent 50%),
      radial-gradient(at 0% 0%, theme('colors.servio.purple.600') 0px, transparent 50%);
  }

  /* AURORA BACKGROUND */
  .aurora-bg {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #ff6b35 100%);
    background-size: 400% 400%;
    animation: gradient 15s ease infinite;
  }

  @keyframes gradient {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  /* PREMIUM TRANSCRIPT MESSAGES */
  .transcript-message {
    @apply mb-4 p-5 rounded-2xl transition-all duration-200
           border border-transparent hover:border-surface-300/50 dark:hover:border-surface-600/50;
  }

  .transcript-user {
    @apply transcript-message bg-gradient-to-r from-primary-50 to-primary-100/50
           dark:from-primary-900/30 dark:to-primary-800/10
           border-l-4 border-primary-500;
  }

  .transcript-assistant {
    @apply transcript-message bg-gradient-to-r from-servio-green-50 to-servio-green-100/50
           dark:from-servio-green-900/30 dark:to-servio-green-800/10
           border-l-4 border-servio-green-500;
  }

  .transcript-system {
    @apply transcript-message bg-surface-100/80 dark:bg-surface-800/80
           border-l-4 border-surface-400 text-sm;
  }

  .transcript-action {
    @apply transcript-message bg-gradient-to-r from-servio-orange-50 to-servio-orange-100/50
           dark:from-servio-orange-900/30 dark:to-servio-orange-800/10
           border-l-4 border-servio-orange-500;
  }

  /* ANIMATED BORDER */
  .animated-border {
    @apply relative rounded-2xl;
  }

  .animated-border::before {
    content: '';
    @apply absolute -inset-px rounded-2xl bg-gradient-to-r from-primary-500 via-servio-orange-500 to-primary-500
           -z-10 opacity-75 blur transition-opacity duration-500;
    background-size: 200% 200%;
    animation: gradient 3s linear infinite;
  }

  /* GLOW EFFECTS */
  .glow-primary {
    box-shadow: 0 0 20px rgba(20, 184, 166, 0.4), 0 0 40px rgba(20, 184, 166, 0.2);
  }

  .glow-orange {
    box-shadow: 0 0 20px rgba(255, 107, 53, 0.4), 0 0 40px rgba(255, 107, 53, 0.2);
  }

  .glow-purple {
    box-shadow: 0 0 20px rgba(168, 85, 247, 0.4), 0 0 40px rgba(168, 85, 247, 0.2);
  }

  /* FLOATING ANIMATION */
  .float-animation {
    animation: float 6s ease-in-out infinite;
  }

  @keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-20px); }
  }

  /* SPARKLE EFFECT */
  .sparkle {
    @apply absolute w-2 h-2 bg-white rounded-full;
    animation: sparkle 1.5s ease-out forwards;
  }

  /* STAGGER ANIMATION */
  .stagger-1 { animation-delay: 0.1s; }
  .stagger-2 { animation-delay: 0.2s; }
  .stagger-3 { animation-delay: 0.3s; }
  .stagger-4 { animation-delay: 0.4s; }
  .stagger-5 { animation-delay: 0.5s; }

  /* PREMIUM SKELETON */
  .skeleton {
    @apply relative overflow-hidden bg-surface-200 dark:bg-surface-700 rounded-lg;
  }

  .skeleton::after {
    content: '';
    @apply absolute inset-0 -translate-x-full;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
    animation: shimmer 2s infinite;
  }

  /* MOBILE-OPTIMIZED COMPONENTS */
  .btn-mobile {
    @apply min-h-[44px] min-w-[44px] text-base font-medium touch-manipulation mobile-tap-highlight;
  }

  .btn-mobile-primary {
    @apply btn-primary btn-mobile py-3 px-6;
  }

  .btn-mobile-secondary {
    @apply btn-secondary btn-mobile py-3 px-6;
  }

  .card-mobile {
    @apply card p-4 mx-2 sm:mx-0 rounded-2xl;
  }

  .input-mobile {
    @apply input-field min-h-[44px] text-base px-4 py-3 touch-manipulation;
  }

  .nav-mobile {
    @apply touch-manipulation mobile-tap-highlight min-h-[44px] flex items-center;
  }

  .sidebar-mobile {
    @apply transform transition-transform duration-300 ease-in-out lg:translate-x-0;
  }

  .overlay-mobile {
    @apply fixed inset-0 bg-gray-600 bg-opacity-75 transition-opacity lg:hidden;
  }

  /* PREMIUM STAT CARD */
  .stat-card {
    @apply relative overflow-hidden rounded-2xl p-6
           bg-gradient-to-br from-white to-surface-50
           dark:from-surface-800 dark:to-surface-900
           shadow-soft-lg border border-surface-200/50 dark:border-surface-700/50
           transition-all duration-300 hover:shadow-glow hover:-translate-y-1;
  }

  .stat-card::before {
    content: '';
    @apply absolute inset-0 opacity-20;
    background: linear-gradient(135deg, transparent 0%, theme('colors.primary.400') 100%);
  }

  .stat-card-primary {
    @apply stat-card;
  }

  .stat-card-primary::before {
    background: linear-gradient(135deg, transparent 0%, theme('colors.primary.500') 100%);
  }

  .stat-card-orange {
    @apply stat-card;
  }

  .stat-card-orange::before {
    background: linear-gradient(135deg, transparent 0%, theme('colors.servio.orange.500') 100%);
  }

  .stat-card-green {
    @apply stat-card;
  }

  .stat-card-green::before {
    background: linear-gradient(135deg, transparent 0%, theme('colors.servio.green.500') 100%);
  }

  .stat-card-blue {
    @apply stat-card;
  }

  .stat-card-blue::before {
    background: linear-gradient(135deg, transparent 0%, theme('colors.servio.blue.500') 100%);
  }
}

/* Avatar animation keyframes */
@keyframes talk {
  0%, 100% {
    transform: scaleY(1);
  }
  50% {
    transform: scaleY(1.1);
  }
}

.avatar-talking .mouth {
  animation: talk 0.3s ease-in-out infinite;
}

/* Microphone pulse animation */
@keyframes mic-pulse {
  0% {
    box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7);
  }
  70% {
    box-shadow: 0 0 0 10px rgba(239, 68, 68, 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(239, 68, 68, 0);
  }
}

.mic-recording {
  animation: mic-pulse 1.5s infinite;
}

/* Prep time countdown animations */
@keyframes prep-time-critical {
  0%, 100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.8;
    transform: scale(1.02);
  }
}

@keyframes prep-time-progress {
  0% {
    width: 100%;
  }
  100% {
    width: 0%;
  }
}

.prep-time-critical {
  animation: prep-time-critical 1s ease-in-out infinite;
}

.prep-time-progress-bar {
  transition: width 1s linear;
}

/* Pulse animation for overdue orders */
@keyframes overdue-pulse {
  0%, 100% {
    box-shadow: 0 0 0 0 rgba(196, 69, 54, 0.4);
  }
  50% {
    box-shadow: 0 0 0 8px rgba(196, 69, 54, 0);
  }
}

.order-overdue {
  animation: overdue-pulse 2s ease-in-out infinite;
}

/* Search input focus animation */
@keyframes search-focus {
  0% {
    box-shadow: 0 0 0 0 var(--tablet-accent);
  }
  70% {
    box-shadow: 0 0 0 6px rgba(0, 0, 0, 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(0, 0, 0, 0);
  }
}

.search-input-focus {
  animation: search-focus 0.5s ease-out;
}

/* Order card entrance animation */
@keyframes order-card-enter {
  0% {
    opacity: 0;
    transform: translateY(-10px) scale(0.98);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.order-card-enter {
  animation: order-card-enter 0.3s ease-out;
}

/* Fade in animation */
@keyframes fade-in {
  from {
    opacity: 0;
    transform: translateY(-8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in {
  animation: fade-in 0.2s ease-out;
}

@keyframes route-progress {
  0% {
    transform: translateX(-100%);
  }
  50% {
    transform: translateX(-10%);
  }
  100% {
    transform: translateX(0%);
  }
}

.animate-route-progress {
  animation: route-progress 1.2s ease-in-out infinite;
}

/* Shimmer effect for skeleton loaders */
@keyframes shimmer {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}

@layer utilities {
  .bg-gray-850 {
    background-color: rgb(26 32 44);
  }

  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Mobile-specific utilities */
  .touch-manipulation {
    touch-action: manipulation;
  }

  .mobile-tap-highlight {
    -webkit-tap-highlight-color: rgba(59, 130, 246, 0.1);
  }

  .mobile-scrolling {
    -webkit-overflow-scrolling: touch;
  }

  .safe-area-inset-top {
    padding-top: env(safe-area-inset-top);
  }

  .safe-area-inset-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .safe-area-inset-left {
    padding-left: env(safe-area-inset-left);
  }

  .safe-area-inset-right {
    padding-right: env(safe-area-inset-right);
  }

  /* Mobile viewport utilities */
  .min-h-mobile {
    min-height: 100vh;
    min-height: 100dvh; /* Dynamic viewport height for mobile */
  }

  .h-mobile {
    height: 100vh;
    height: 100dvh;
  }

  /* Bottom sheet modals - prevent content from being hidden behind home indicator */
  .bottom-sheet-safe {
    padding-bottom: max(1.5rem, env(safe-area-inset-bottom));
  }

  /* Prevent body scroll when modal is open */
  .body-scroll-lock {
    overflow: hidden;
    position: fixed;
    width: 100%;
    height: 100%;
  }

  /* Touch-friendly scrolling for modal content */
  .overscroll-contain {
    overscroll-behavior: contain;
    -webkit-overflow-scrolling: touch;
  }

  /* Hide scrollbar utilities */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Premium text utilities */
  .text-balance {
    text-wrap: balance;
  }

  /* Gradient clip */
  .gradient-clip-text {
    background-clip: text;
    -webkit-background-clip: text;
  }

  /* Glass effect utilities */
  .glass {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
  }

  .glass-dark {
    background: rgba(0, 0, 0, 0.2);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
  }
}

@media (max-width: 640px) {
  table {
    display: block;
    width: 100%;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }
}

/* NATIVE APP FEEL - MOBILE OPTIMIZATIONS */
@layer utilities {
  /* Smooth scroll behavior for iOS */
  html {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }

  /* Prevent pull-to-refresh on desktop */
  @media (hover: hover) and (pointer: fine) {
    body {
      overscroll-behavior-y: contain;
    }
  }

  /* Enable smooth scrolling on mobile */
  @media (hover: none) and (pointer: coarse) {
    * {
      -webkit-overflow-scrolling: touch;
      scroll-behavior: smooth;
    }

    /* Disable iOS bounce on fixed elements */
    .fixed,
    .sticky {
      will-change: transform;
    }
  }

  /* Performance: GPU acceleration for transitions */
  .will-change-transform {
    will-change: transform;
  }

  .will-change-opacity {
    will-change: opacity;
  }

  /* Native app transitions */
  .transition-native {
    transition-timing-function: cubic-bezier(0.61, 1, 0.88, 1);
  }

  /* iOS-style momentum scrolling */
  .momentum-scroll {
    overflow-y: scroll;
    -webkit-overflow-scrolling: touch;
    overscroll-behavior-y: contain;
  }

  /* Prevent text selection on interactive elements */
  .no-select {
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    -webkit-touch-callout: none;
  }

  /* Active state for touch */
  .active-state:active {
    transform: scale(0.97);
    opacity: 0.9;
  }

  /* Backdrop blur for modals */
  .backdrop-blur-native {
    -webkit-backdrop-filter: blur(10px);
    backdrop-filter: blur(10px);
  }
}

/* LOADING STATE OPTIMIZATIONS */
@layer components {
  /* Skeleton pulse animation */
  @keyframes skeleton-pulse {
    0%, 100% {
      opacity: 0.5;
    }
    50% {
      opacity: 0.8;
    }
  }

  .skeleton-animate {
    animation: skeleton-pulse 1.5s ease-in-out infinite;
  }

  /* Shimmer effect for loading */
  @keyframes shimmer {
    0% {
      background-position: -1000px 0;
    }
    100% {
      background-position: 1000px 0;
    }
  }

  .shimmer {
    background: linear-gradient(
      90deg,
      transparent 0%,
      rgba(255, 255, 255, 0.1) 50%,
      transparent 100%
    );
    background-size: 1000px 100%;
    animation: shimmer 2s infinite;
  }
}

/* PERFORMANCE: Reduce repaints */
@layer base {
  /* Contain layout for better performance */
  .card,
  .card-hover {
    contain: layout style paint;
  }

  /* Optimize font rendering */
  body {
    font-feature-settings: "kern" 1;
    font-kerning: normal;
    text-size-adjust: 100%;
    -webkit-text-size-adjust: 100%;
  }

  /* Optimize images */
  img {
    content-visibility: auto;
  }
}

/* MOBILE: Improve tap targets */
@media (max-width: 768px) {
  /* Ensure minimum tap target size */
  button,
  a,
  input[type="button"],
  input[type="submit"],
  select {
    min-height: 44px;
    min-width: 44px;
  }

  /* Larger text inputs on mobile */
  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="tel"],
  input[type="number"],
  textarea {
    font-size: 16px; /* Prevents zoom on iOS */
  }
}

/* DARK MODE: Prevent flash */
@media (prefers-color-scheme: dark) {
  :root {
    color-scheme: dark;
  }
}

/* PERFORMANCE: Content visibility */
.content-auto {
  content-visibility: auto;
  contain-intrinsic-size: auto 500px;
}

/* BLOB ANIMATIONS */
.blob {
  position: absolute;
  filter: blur(80px);
  z-index: 0;
  opacity: 0.5;
  animation: blob 7s infinite;
}

.blob-1 {
  top: 10%;
  left: 10%;
  background: theme('colors.primary.400');
  animation-delay: 0s;
}

.blob-2 {
  top: 20%;
  right: 10%;
  background: theme('colors.servio.orange.400');
  animation-delay: 1s;
}

.blob-3 {
  bottom: 20%;
  left: 20%;
  background: theme('colors.servio.purple.500');
  animation-delay: 2s;
}

.blob-4 {
  bottom: 10%;
  right: 20%;
  background: theme('colors.servio.blue.500');
  animation-delay: 3s;
}

/* SPOTLIGHT EFFECT */
.spotlight {
  position: relative;
  overflow: hidden;
}

.spotlight::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.1),
    transparent
  );
  transition: left 0.5s;
}

.spotlight:hover::before {
  left: 100%;
}

/* BORDER GLOW */
.border-glow {
  position: relative;
}

.border-glow::after {
  content: '';
  position: absolute;
  inset: -2px;
  border-radius: inherit;
  background: linear-gradient(45deg, theme('colors.primary.500'), theme('colors.servio.orange.500'), theme('colors.primary.500'));
  background-size: 400% 400%;
  z-index: -1;
  opacity: 0;
  transition: opacity 0.3s;
  animation: gradient 3s ease infinite;
}

.border-glow:hover::after {
  opacity: 1;
}
